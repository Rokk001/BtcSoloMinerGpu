






















# ... existing code ...

# Import update_status from web module with dynamic fallback
# This allows the web module to be initialized later and still work correctly
_web_update_status = None
_web_update_pool_status = None


def _get_update_status():
    """Get update_status function, trying to import from web module if not already available."""
    global _web_update_status
    if _web_update_status is None:
        try:
            from ..web import update_status as _real_update_status
            _web_update_status = _real_update_status
        except (ImportError, AttributeError):
            # Web module not available or not initialized yet
            pass
    return _web_update_status


def _get_update_pool_status():
    """Get update_pool_status function, trying to import from web module if not already available."""
    global _web_update_pool_status
    if _web_update_pool_status is None:
        try:
            from ..web import update_pool_status as _real_update_pool_status
            _web_update_pool_status = _real_update_pool_status
        except (ImportError, AttributeError):
            # Web module not available or not initialized yet
            pass
    return _web_update_pool_status


def update_status(key, value):
    """Update status, using web module if available, otherwise no-op."""
    real_func = _get_update_status()
    if real_func is not None:
        real_func(key, value)


def update_pool_status(connected, host=None, port=None):
    """Update pool status, using web module if available, otherwise no-op."""
    real_func = _get_update_pool_status()
    if real_func is not None:
        real_func(connected, host, port)




































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































# ... existing code ...

